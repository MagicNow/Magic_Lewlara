{"version":3,"sources":["blog.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"blog.js","sourcesContent":["\r\n$(document).ready(function () {\r\n    if($(\"#adaptive\").length ){\r\n        $('#adaptive').lightSlider({\r\n            addClass:\"slider-home\",\r\n            adaptiveHeight: true,\r\n            item: 1,\r\n            slideMargin: 0,\r\n            loop: true,\r\n            onSliderLoad:  function (el) {\r\n                $('.lSPager > li > a').each(function () {\r\n                    if ($(this).html().length < 2)\r\n                        $(this).html('0' + $(this).html());\r\n                });\r\n            }\r\n        });\r\n    }\r\n    /*REGRAS NUVEM DE TAGS*/\r\n     if( ! $('#myCanvas').tagcanvas({\r\n    textColour : '#000',\r\n     outlineColour : \"transparent\",\r\n     radiusX: 1.5,\r\n     radiusY: 1,\r\n     radiusZ: 1.5,\r\n     textHeight: 20,\r\n     imagePosition: \"left\",\r\n     zoom:1.0,\r\n     zoomMax:1.0,\r\n     zoomMin:1.0,\r\n     reverse: true\r\n   })) \r\n   {\r\n     // TagCanvas failed to load\r\n     $('#myCanvasContainer').hide();\r\n   }\r\n// setInterval(function(){ \r\n    if($('.post-galeria').not('.lightSlider').length > 0){ \r\n        $.each($('.post-galeria').not('.lightSlider'), function(e){\r\n            $(this).lightSlider({ gallery: true, adaptiveHeight: false, item: 1, loop:true, slideMargin: 0, thumbItem: 5 }); \r\n        });\r\n    } \r\n// }, 500);\r\n\r\n//METODO COLOCAR PLACE HOLDER NA TEXTAREA DO NOVO COMENTÁRIO\r\n$(function() {\r\n   $(\"#novo\").attr(\"placeholder\", \"DEIXE SEU COMENTÁRIO\").val(\"\");\r\n});\r\n\r\n$(function(){\r\n    $(\".comentario\").on(\"click\", function() {\r\n        var id = $(this).attr('id');\r\n        textarea_keyup(id, $(this));\r\n        $(\"#\"+id).on('keyup', function () {\r\n            textarea_keyup(id, $(this));\r\n        });\r\n    });\r\n    //função para quando dar o focus ele chama a função texarea_keyup para atualizar os caracteres\r\n    $(\".comentario\").on(\"focus\",function(){\r\n        textarea_keyup(id, $(this));\r\n    });\r\n\r\n    var enviar = true; //variável global que contem para ver se minha texarea novo comentário vai dar submit\r\n    $('#novo').keypress(function(event) {  \r\n        if (event.keyCode == 13) {\r\n            event.preventDefault();\r\n            if(enviar == true){\r\n                var $this = $(this),\r\n                comentario = $this.data('action');\r\n                conteudo = $this.val();\r\n                \r\n                var resposta = tem_conteudo(conteudo);//verificando se o usuário digitou pelo menos um caracter\r\n                if(resposta==true){\r\n                    $.ajax({\r\n                        type: \"POST\",\r\n                        dataType: \"html\",\r\n                        url: $this.attr('href') + '?comentario=' + comentario,\r\n                        data:{'comentario' :comentario, 'conteudo':conteudo},\r\n                        success: function (data) {\r\n                            window.location.href=window.location.href;\r\n                        }\r\n                    });\r\n                    $(\"#novo + span\").text(\"Comentário enviado!\").css({color: 'blue'});\r\n                    $(\"#novo + span\").fadeOut(5000);\r\n                    enviar=false;\r\n                }else{\r\n                    $(\"#novo + span\").text(\"Digite algo!\").css({color: 'red'});\r\n                }\r\n            }\r\n        \r\n    }\r\n    });\r\n});\r\n\r\nfunction textarea_keyup(id, $this){\r\n    // pega a span onde esta a quantidade máxima de caracteres.\r\n    if(id==\"novo\"){\r\n        var target = $(\"#novo-limite\");\r\n    }else{\r\n        var target = $(\"#\"+id+\"-edit\");\r\n    }\r\n    var max = 1578;\r\n    // tamanho da string dentro da textarea.\r\n    var len = $this.val().length;\r\n\r\n    // quantidade de caracteres restantes dentro da textarea.\r\n    var remain = max - len;\r\n\r\n    // caso a quantidade dentro da textarea seja maior que\r\n    // a quantidade maxima.\r\n    if(len > max)\r\n    {\r\n        //  pegar tudo que tiver na string e limitar\r\n        // a quantidade de caracteres para o máximo setado.\r\n        // o máximo será cortado.\r\n        var val = $this.val();\r\n        $this.val(val.substr(0, max));\r\n\r\n        // setando o restante para 0.\r\n        remain = 0;\r\n    }\r\n    // atualizando a quantidade.\r\n    target.html(remain);\r\n}\r\n\r\n/*FUNÇÃO PARA EDITAR COMENTARIO DO BLOG*/\r\n\r\nvar editar=true; //variável global que serve para deixar o usuário fazer apenas uma requisição\r\n$(\".comentario-blog-btn-edit\").on(\"click\", function() {\r\n    //pegando o  id do btn\r\n    var id = $(this).attr('id');    \r\n    //pegando o id da classe pai\r\n    var id_pai = id.replace('-btn', '');\r\n    var url = $(\"#novo\").attr('href');\r\n    //excluindo o button editar comentário\r\n    var comentario = document.getElementById(id_pai);\r\n    var btn_comentario = document.getElementById(id); // Seleciona o elemento filho que vai ser excluido\r\n    var excluir = comentario.removeChild(btn_comentario);\r\n\r\n    var valorDaDiv = $('p', $( '#'+id_pai)).text();\r\n\r\n    //criando uma textarea para editar o comentário\r\n    var input = document.createElement(\"textarea\");\r\n    $(input).addClass('comentario-blog-tipo comentario-blog-tipo-novo comentario');\r\n    input.id=id_pai;\r\n    input.rows = \"10\";\r\n    input.value=valorDaDiv;\r\n    $(input).on('keyup', function () {\r\n            textarea_keyup(id_pai, $(this));\r\n    });\r\n    $(input).on('focus', function () {\r\n            textarea_keyup(id_pai, $(this));\r\n    }); \r\n    $(input).keypress(function(event) {\r\n        if (event.keyCode == 13) {\r\n            event.preventDefault();   \r\n            if(editar==true){\r\n                var id_comentario = id_pai.replace('comentario-', '');\r\n                var $this = $(this),\r\n                comentario = \"editar\";\r\n                conteudo = $(input).val();\r\n                var mensagem = tem_conteudo(conteudo);//verificando se o usuário digitou pelo menos um caracter\r\n                if(mensagem==true){\r\n                    $.ajax({\r\n                        type: \"POST\",\r\n                        dataType: \"html\",\r\n                        url: url + '?comentario='+comentario,\r\n                        data:{'comentario' :comentario, 'conteudo':conteudo,'id_comentario':id_comentario},\r\n                        success: function (data) {\r\n                            window.location.href=window.location.href;\r\n                        }\r\n                    });\r\n\r\n                    $(\"#\"+ $(this).attr('id') + \" + span\").text(\"Comentário editado!\").css({color: 'blue'});\r\n                    $(\"#\"+ $(this).attr('id') + \" + span\").fadeOut(5000);\r\n                    \r\n                    editar=false;\r\n                 }else{\r\n                    $(\"#\"+ $(this).attr('id') + \" + span\").text(\"Comentário em branco\").css({color: 'red'});\r\n                 }\r\n\r\n            } \r\n       \r\n        }\r\n     \r\n    });\r\n \r\n    //criando um span para mensagem do comentário\r\n    var mensagem = document.createElement(\"span\")\r\n    $(mensagem)\r\n            .addClass('mensagem');\r\n    var caracteres = document.createElement(\"span\")\r\n    //criando um span com nome caracteres\r\n    $(caracteres)\r\n            .text('CARACTERES')\r\n            .addClass('comentario-blog-caracter');\r\n    //criando um span com a contagem de caracteres\r\n    var limite_caracteres = document.createElement(\"span\")\r\n    limite_caracteres.id=id_pai+\"-edit\";\r\n    $(limite_caracteres)\r\n            .text(\"1578\")\r\n            .addClass('limite-caracteres comentario-blog-caracter');\r\n    $( \"#\"+id_pai).replaceWith(input,mensagem,caracteres,limite_caracteres);\r\n    \r\n    $(\"#\"+id_pai).focus();\r\n    colocar_cursor_nofinal(id_pai);  \r\n})\r\n//esse metodo serve para colocar o curso no final da minha textarea\r\nfunction colocar_cursor_nofinal(id){\r\n    var obj = $(\"#\"+id);\r\n    // guardando co conteudo em uma variavel\r\n    val = obj.val();\r\n    // limpando o conteudo  e gravando de novo\r\n    obj.focus().val(\"\").val(val);\r\n    // movendo o scroll para o final\r\n    obj.scrollTop(obj[0].scrollHeight);\r\n}\r\n\r\n\r\n$(\".click-favorito\").on(\"click\", function(e) {\r\n    e.preventDefault();\r\n    var $this = $(this),\r\n        action = $this.data('action');\r\n    $.post($this.attr('href') + '?action=' + action, {'action': action}).done(function(){ //chamando minha route, que chamar minha controller com a ação like ou unlike!\r\n    \r\n    });\r\n    //pegando o numero de vezes favoritados\r\n    num = $('.icons-titulo-favorito-num').text();\r\n\r\n    //se for action like \r\n    if(action==\"like\"){\r\n        num++;\r\n        $this.data('action', 'unlike');\r\n    }else{  //se for action unlike\r\n        num--;\r\n        $this.data('action', 'like');\r\n    }\r\n    $(\".icons-titulo-favorito-num\").replaceWith(\"<p class='icons-titulo-favorito-num'>\"+num+\"</p>\");\r\n\r\n});\r\n//função para verificar se tem letras dentro de uma string\r\n\r\nfunction tem_conteudo(texto){\r\n   for(i=0; i<texto.length; i++){\r\n      if (texto[i] !=\" \"){\r\n        return true;\r\n      }\r\n   }\r\n   return false;\r\n} \r\n\r\n\r\n\r\n}); \r\n\r\n\r\n   \r\n\r\n\r\n"],"sourceRoot":"/source/"}