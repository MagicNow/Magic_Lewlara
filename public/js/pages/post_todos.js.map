{"version":3,"sources":["post_todos.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"post_todos.js","sourcesContent":["\r\n //POST TODOS\r\n$(document).ready(function () {\r\n    // filtros\r\n    $('.aplicar-select-acao-post').on('click',function(e){\r\n        var acao = $(this).prev('.select-acao').val();\r\n        if(acao == 'excluir'){\r\n            var postsIds = [];\r\n            $('.post-checkbox:checked').each(function() {\r\n                postsIds.push($(this).val());\r\n            });            \r\n            if(postsIds.length == 0){\r\n                alert('selecione ao menos um post para aplicar');\r\n                return false;\r\n            } \r\n            \r\n            $.ajax({\r\n                type: \"POST\",\r\n                dataType: \"html\",\r\n                url: baseUrl + \"/post/ajax_postDestroy\",\r\n                data: {'posts': postsIds},\r\n                success: function (data) {\r\n                    window.location.href=window.location.href;\r\n                }\r\n            });\r\n        } else {\r\n            alert('selecione uma ação para aplicar');\r\n        }        \r\n    });  \r\n    $('.datepicker').datepicker();\r\n    $('.bt-buscar-blog').on('click', function(e){\r\n        $('.filtrar-posts-todos-posts').trigger('click');\r\n    });\r\n\r\n    $('.select-categorias').on('change', function (e) {       \r\n        var categoria_id = $(this).val();\r\n        e.preventDefault();\r\n\r\n        var selectSubcategorias = $('.select-subcategorias');\r\n\r\n        selectSubcategorias.empty();\r\n        selectSubcategorias.append('<option value=\"\">Carregando &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</option>');\r\n\r\n        $.ajax({\r\n            type: \"POST\",\r\n            dataType: \"json\",\r\n            url: baseUrl + \"/post/ajaxSubcategoria\",\r\n            data: {'categoria_id': categoria_id},\r\n            success: function (data) {\r\n                // popula o select com as subcategorias retornadas                \r\n                var listitems = '';\r\n                listitems += '<option value=\"\">Todas as subcategorias</option>';\r\n                $.each(data, function (key, value) {\r\n                    listitems += '<option value=' + key + '>' + value + '</option>';\r\n                });\r\n                selectSubcategorias.empty();\r\n                selectSubcategorias.append(listitems);\r\n            }\r\n        });\r\n    });\r\n\r\n    $('.filtrar-posts-todos-posts').on('click',function(e){\r\n        var filtros = new Object();\r\n\r\n        var data_inicio = $(this).parent().find('.select-data-inicio').val();\r\n        \r\n        if(data_inicio && data_inicio.trim() != ''){\r\n            filtros.data_inicio = data_inicio;\r\n        }\r\n\r\n        var data_final = $(this).parent().find('.select-data-final').val();\r\n        \r\n        if(data_final && data_final.trim() != ''){\r\n            filtros.data_final = data_final;\r\n        }\r\n\r\n        var categorias = $(this).parent().find('.select-categorias').val();\r\n        \r\n        if(categorias && categorias.trim() != ''){\r\n            filtros.categorias = categorias;\r\n        }\r\n\r\n        var subcategorias = $(this).parent().find('.select-subcategorias').val();\r\n        \r\n        if(subcategorias && subcategorias.trim() != ''){\r\n            filtros.subcategorias = subcategorias;\r\n        }\r\n\r\n\r\n\r\n        var tag = $(this).parent().find('.select-tags').val();\r\n        \r\n        if(tag && tag.trim() != ''){\r\n            filtros.tag = tag;\r\n        }\r\n        console.log('filtroe',filtros);\r\n        var busca = $('.filtro-buscar-blog').val();\r\n\r\n        if(busca && busca.trim() != ''){\r\n            filtros.busca = busca;\r\n        }\r\n\r\n        $.ajax({\r\n            type: \"POST\",\r\n            dataType: \"html\",\r\n            url: baseUrl + \"/post/ajax_filtrosTodosPosts\",\r\n            data: filtros,\r\n            success: function (data) {\r\n                window.location.href=window.location.pathname;\r\n            }\r\n        });\r\n\r\n    });\r\n\r\n});"],"sourceRoot":"/source/"}