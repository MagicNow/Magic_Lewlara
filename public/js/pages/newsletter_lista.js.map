{"version":3,"sources":["newsletter_lista.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"newsletter_lista.js","sourcesContent":["$(document).ready(function () {\r\n    $('.aplicar-select-acao-newsletter').on('click',function(e){\r\n        var acao = $(this).prev('.select-acao').val();\r\n        if(acao == 'excluir'){\r\n            var newsletterIds = [];\r\n            $('.newsletter-checkbox:checked').each(function() {\r\n                newsletterIds.push($(this).val());\r\n            });            \r\n            if(newsletterIds.length == 0){\r\n                alert('selecione ao menos uma newsletter para aplicar');\r\n                return false;\r\n            } \r\n            \r\n            $.ajax({\r\n                type: \"POST\",\r\n                dataType: \"html\",\r\n                url: baseUrl + \"/newsletter/ajax_newsletterDestroy\",\r\n                data: {'newsletter': newsletterIds},\r\n                success: function (data) {\r\n                    window.location.href=window.location.href;\r\n                }\r\n            });\r\n        } else {\r\n            alert('selecione uma ação para aplicar');\r\n        }        \r\n    });  \r\n\r\n   $('#newsletter-check-todos').on('click', function(e){      \r\n       if(this.checked) {\r\n           check = true;\r\n       } else {\r\n           check = false;\r\n       } \r\n       \r\n       $('.newsletter-checkbox').each(function() {\r\n           this.checked = check;               \r\n       });        \r\n   });\r\n\r\n\r\n   $('.filtrar-newsletter').on('click',function(e){\r\n       var filtros = new Object();\r\n\r\n       var datas = $(this).parent().find('.select-data').val();\r\n       \r\n       if(datas && datas.trim() != ''){\r\n           filtros.datas = datas; \r\n       }\r\n      \r\n       $.ajax({\r\n           type: \"POST\",\r\n           dataType: \"html\",\r\n           url: baseUrl + \"/newsletter/ajax_filtrosLista\",\r\n           data: filtros,\r\n           success: function (data) {\r\n               window.location.href=window.location.pathname;\r\n           }\r\n       });\r\n\r\n   });\r\n\r\n\r\n\r\n   \r\n   // modais modals\r\n\r\n  $('.btn-ver-posts').on('click', function () {\r\n      var newsletter_id = $(this).data('newsletterid');\r\n      \r\n      // ATIVA LOADING\r\n\r\n      // carrega tab posts\r\n      $.ajax({\r\n          type: \"POST\",\r\n          dataType: \"html\",\r\n          url: baseUrl + \"/newsletter/ajax_verPosts\",\r\n          data: {'newsletter_id': newsletter_id }, \r\n          success: function (data) {\r\n              // DESATIVA LOADING\r\n\r\n              $('#tabcontent-ver-posts').html(data);\r\n                           \r\n               // abre modal\r\n              $('#modal-ver-posts-pessoas').toggleClass('hide');\r\n               // abre aba posts\r\n              $('#tab-ver-posts').trigger('click');\r\n          }\r\n      });\r\n\r\n      // carrega tab pessoas\r\n      $.ajax({\r\n          type: \"POST\",\r\n          dataType: \"html\",\r\n          url: baseUrl + \"/newsletter/ajax_verPessoas\",\r\n          data: {'newsletter_id': newsletter_id }, \r\n          success: function (data) {\r\n              $('#tabcontent-ver-pessoas').html(data);\r\n          }\r\n      });  \r\n     \r\n  });\r\n\r\n  $('.btn-ver-pessoas').on('click', function () {\r\n      var newsletter_id = $(this).data('newsletterid');\r\n      \r\n      // ATIVA LOADING\r\n\r\n      $.ajax({\r\n          type: \"POST\",\r\n          dataType: \"html\",\r\n          url: baseUrl + \"/newsletter/ajax_verPessoas\",\r\n          data: {'newsletter_id': newsletter_id }, \r\n          success: function (data) {\r\n              // DESATIVA LOADING\r\n\r\n              $('#tabcontent-ver-pessoas').html(data);\r\n\r\n               // abre modal\r\n              $('#modal-ver-posts-pessoas').toggleClass('hide');\r\n               // abre aba \r\n              $('#tab-ver-pessoas').trigger('click');\r\n          }\r\n      }); \r\n\r\n      // carrega tab posts\r\n      $.ajax({\r\n          type: \"POST\",\r\n          dataType: \"html\",\r\n          url: baseUrl + \"/newsletter/ajax_verPosts\",\r\n          data: {'newsletter_id': newsletter_id }, \r\n          success: function (data) {\r\n              $('#tabcontent-ver-posts').html(data);\r\n          }\r\n      });     \r\n  });\r\n\r\n  $('#close-modal-ver-posts-pessoas').on('click', function () {\r\n     $('#modal-ver-posts-pessoas').toggleClass('hide');\r\n  });\r\n\r\n\r\n});"],"sourceRoot":"/source/"}